<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrado Cesar</title>
</head>
<!--
    El cifrado césar consiste en tomar cada letra de un mensaje y desplazarla en el alfabeto el
número que diga una clave. Por ejemplo, la letra A desplazada con clave 2, se convertirá en
C.
Aunque el cifrado César funciona con un alfabeto completo y por desplazamiento (en el
ejemplo anterior la letra Z sería la letra B) crea una página que pida al usuario un texto y una
clave y escriba el mismo texto pero desplazando los caracteres Unicode el número que
indique la clave.
-->

<body>
    <p>Introduce una clave: <input type="text" name="clave"></p>
    <p>Introduce un texto: <input type="text" name="texto"></p>
    <input type="button" value="Enviar"
        onclick="cifrar(document.getElementsByTagName('input')[0].value,document.getElementsByTagName('input')[1].value)">

    <p>Resultado: <input type="text" name="resultado" placeholder="Aqui aparecera el resultado"></p>



    <script>

        let array_texto;
        let resultado = "";

        function cifrar(clave, texto) {


            resultado = "";

            array_texto = texto.split("");

            for (let contador = 0; contador < array_texto.length; contador++) {

                array_texto[contador] = parseInt(array_texto[contador].charCodeAt()) + parseInt(clave);



                // COMO HACER QUE DE Z PASE A  A,DE Y A B ,ETC

                if (array_texto[contador] > 90 && array_texto[contador] < 97) {

                    array_texto[contador] =
                        array_texto[contador] = array_texto[contador] - 26;

                }
                else if (array_texto[contador] > 122) {
                    array_texto[contador] = array_texto[contador] - 26;

                }



                /*CHAT GPT
                
                                let array_texto;
                                let resultado = "";
                
                                function cifrar(clave, texto) {
                                    resultado = "";
                                    array_texto = texto.split("");
                
                                    for (let contador = 0; contador < array_texto.length; contador++) {
                                        const charCode = array_texto[contador].charCodeAt();
                
                                        if (charCode >= 65 && charCode <= 90) { // Caracteres mayúsculas
                                            array_texto[contador] = String.fromCharCode(((charCode - 65 + parseInt(clave)) % 26) + 65);
                                        } else if (charCode >= 97 && charCode <= 122) { // Caracteres minúsculas
                                            array_texto[contador] = String.fromCharCode(((charCode - 97 + parseInt(clave)) % 26) + 97);
                                        }
                
                                        resultado += array_texto[contador];
                                    }
                
                                    document.getElementsByTagName('input')[3].value = resultado;
                                }
                */

                resultado = resultado + String.fromCharCode(array_texto[contador]);

            }

            document.getElementsByTagName('input')[3].value = resultado;

        }


    </script>
</body>

</html>